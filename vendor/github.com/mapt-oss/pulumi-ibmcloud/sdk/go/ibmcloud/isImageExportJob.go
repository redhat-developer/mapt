// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ibmcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/mapt-oss/pulumi-ibmcloud/sdk/go/ibmcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type IsImageExportJob struct {
	pulumi.CustomResourceState

	// The date and time that the image export job was completed.If absent, the export job has not yet completed.
	CompletedAt pulumi.StringOutput `pulumi:"completedAt"`
	// The date and time that the image export job was created.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// A base64-encoded, encrypted representation of the key that was used to encrypt the data for the exported image. This key can be unwrapped with the image's `encryptionKey` root key using either Key Protect or Hyper Protect Crypto Service.If absent, the export job is for an unencrypted image.
	EncryptedDataKey pulumi.StringOutput `pulumi:"encryptedDataKey"`
	// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
	Format pulumi.StringPtrOutput `pulumi:"format"`
	// The URL for this image export job.
	Href pulumi.StringOutput `pulumi:"href"`
	// The image identifier.
	Image pulumi.StringOutput `pulumi:"image"`
	// The unique identifier for this image export job.
	ImageExportJob pulumi.StringOutput `pulumi:"imageExportJob"`
	// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
	Name pulumi.StringOutput `pulumi:"name"`
	// The type of resource referenced.
	ResourceType pulumi.StringOutput `pulumi:"resourceType"`
	// The date and time that the image export job started running.If absent, the export job has not yet started.
	StartedAt pulumi.StringOutput `pulumi:"startedAt"`
	// The status of this image export job:- `deleting`: Export job is being deleted- `failed`: Export job could not be completed successfully- `queued`: Export job is queued- `running`: Export job is in progress- `succeeded`: Export job was completed successfullyThe exported image object is automatically deleted for `failed` jobs.
	Status pulumi.StringOutput `pulumi:"status"`
	// The reasons for the current status (if any).The enumerated reason code values for this property will expand in the future. When processing this property, check for and log unknown values. Optionally halt processing and surface the error, or bypass the resource on which the unexpected reason code was encountered.
	StatusReasons IsImageExportJobStatusReasonArrayOutput `pulumi:"statusReasons"`
	// The name of the Cloud Object Storage bucket to export the image to.
	StorageBucket IsImageExportJobStorageBucketOutput `pulumi:"storageBucket"`
	// The Cloud Object Storage location of the exported image object. The object at this location may not exist until the job is started, and will be incomplete while the job is running.After the job completes, the exported image object is not managed by the IBM VPC service, and may be removed or replaced with a different object by any user or service with IAM authorization to the bucket.
	StorageHref pulumi.StringOutput `pulumi:"storageHref"`
	// The Cloud Object Storage object for the exported image. This object may not exist untilthe job is started, and will not be complete until the job completes.
	StorageObjects IsImageExportJobStorageObjectArrayOutput `pulumi:"storageObjects"`
}

// NewIsImageExportJob registers a new resource with the given unique name, arguments, and options.
func NewIsImageExportJob(ctx *pulumi.Context,
	name string, args *IsImageExportJobArgs, opts ...pulumi.ResourceOption) (*IsImageExportJob, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Image == nil {
		return nil, errors.New("invalid value for required argument 'Image'")
	}
	if args.StorageBucket == nil {
		return nil, errors.New("invalid value for required argument 'StorageBucket'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource IsImageExportJob
	err := ctx.RegisterResource("ibmcloud:index/isImageExportJob:IsImageExportJob", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetIsImageExportJob gets an existing IsImageExportJob resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetIsImageExportJob(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *IsImageExportJobState, opts ...pulumi.ResourceOption) (*IsImageExportJob, error) {
	var resource IsImageExportJob
	err := ctx.ReadResource("ibmcloud:index/isImageExportJob:IsImageExportJob", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering IsImageExportJob resources.
type isImageExportJobState struct {
	// The date and time that the image export job was completed.If absent, the export job has not yet completed.
	CompletedAt *string `pulumi:"completedAt"`
	// The date and time that the image export job was created.
	CreatedAt *string `pulumi:"createdAt"`
	// A base64-encoded, encrypted representation of the key that was used to encrypt the data for the exported image. This key can be unwrapped with the image's `encryptionKey` root key using either Key Protect or Hyper Protect Crypto Service.If absent, the export job is for an unencrypted image.
	EncryptedDataKey *string `pulumi:"encryptedDataKey"`
	// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
	Format *string `pulumi:"format"`
	// The URL for this image export job.
	Href *string `pulumi:"href"`
	// The image identifier.
	Image *string `pulumi:"image"`
	// The unique identifier for this image export job.
	ImageExportJob *string `pulumi:"imageExportJob"`
	// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
	Name *string `pulumi:"name"`
	// The type of resource referenced.
	ResourceType *string `pulumi:"resourceType"`
	// The date and time that the image export job started running.If absent, the export job has not yet started.
	StartedAt *string `pulumi:"startedAt"`
	// The status of this image export job:- `deleting`: Export job is being deleted- `failed`: Export job could not be completed successfully- `queued`: Export job is queued- `running`: Export job is in progress- `succeeded`: Export job was completed successfullyThe exported image object is automatically deleted for `failed` jobs.
	Status *string `pulumi:"status"`
	// The reasons for the current status (if any).The enumerated reason code values for this property will expand in the future. When processing this property, check for and log unknown values. Optionally halt processing and surface the error, or bypass the resource on which the unexpected reason code was encountered.
	StatusReasons []IsImageExportJobStatusReason `pulumi:"statusReasons"`
	// The name of the Cloud Object Storage bucket to export the image to.
	StorageBucket *IsImageExportJobStorageBucket `pulumi:"storageBucket"`
	// The Cloud Object Storage location of the exported image object. The object at this location may not exist until the job is started, and will be incomplete while the job is running.After the job completes, the exported image object is not managed by the IBM VPC service, and may be removed or replaced with a different object by any user or service with IAM authorization to the bucket.
	StorageHref *string `pulumi:"storageHref"`
	// The Cloud Object Storage object for the exported image. This object may not exist untilthe job is started, and will not be complete until the job completes.
	StorageObjects []IsImageExportJobStorageObject `pulumi:"storageObjects"`
}

type IsImageExportJobState struct {
	// The date and time that the image export job was completed.If absent, the export job has not yet completed.
	CompletedAt pulumi.StringPtrInput
	// The date and time that the image export job was created.
	CreatedAt pulumi.StringPtrInput
	// A base64-encoded, encrypted representation of the key that was used to encrypt the data for the exported image. This key can be unwrapped with the image's `encryptionKey` root key using either Key Protect or Hyper Protect Crypto Service.If absent, the export job is for an unencrypted image.
	EncryptedDataKey pulumi.StringPtrInput
	// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
	Format pulumi.StringPtrInput
	// The URL for this image export job.
	Href pulumi.StringPtrInput
	// The image identifier.
	Image pulumi.StringPtrInput
	// The unique identifier for this image export job.
	ImageExportJob pulumi.StringPtrInput
	// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
	Name pulumi.StringPtrInput
	// The type of resource referenced.
	ResourceType pulumi.StringPtrInput
	// The date and time that the image export job started running.If absent, the export job has not yet started.
	StartedAt pulumi.StringPtrInput
	// The status of this image export job:- `deleting`: Export job is being deleted- `failed`: Export job could not be completed successfully- `queued`: Export job is queued- `running`: Export job is in progress- `succeeded`: Export job was completed successfullyThe exported image object is automatically deleted for `failed` jobs.
	Status pulumi.StringPtrInput
	// The reasons for the current status (if any).The enumerated reason code values for this property will expand in the future. When processing this property, check for and log unknown values. Optionally halt processing and surface the error, or bypass the resource on which the unexpected reason code was encountered.
	StatusReasons IsImageExportJobStatusReasonArrayInput
	// The name of the Cloud Object Storage bucket to export the image to.
	StorageBucket IsImageExportJobStorageBucketPtrInput
	// The Cloud Object Storage location of the exported image object. The object at this location may not exist until the job is started, and will be incomplete while the job is running.After the job completes, the exported image object is not managed by the IBM VPC service, and may be removed or replaced with a different object by any user or service with IAM authorization to the bucket.
	StorageHref pulumi.StringPtrInput
	// The Cloud Object Storage object for the exported image. This object may not exist untilthe job is started, and will not be complete until the job completes.
	StorageObjects IsImageExportJobStorageObjectArrayInput
}

func (IsImageExportJobState) ElementType() reflect.Type {
	return reflect.TypeOf((*isImageExportJobState)(nil)).Elem()
}

type isImageExportJobArgs struct {
	// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
	Format *string `pulumi:"format"`
	// The image identifier.
	Image string `pulumi:"image"`
	// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
	Name *string `pulumi:"name"`
	// The name of the Cloud Object Storage bucket to export the image to.
	StorageBucket IsImageExportJobStorageBucket `pulumi:"storageBucket"`
}

// The set of arguments for constructing a IsImageExportJob resource.
type IsImageExportJobArgs struct {
	// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
	Format pulumi.StringPtrInput
	// The image identifier.
	Image pulumi.StringInput
	// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
	Name pulumi.StringPtrInput
	// The name of the Cloud Object Storage bucket to export the image to.
	StorageBucket IsImageExportJobStorageBucketInput
}

func (IsImageExportJobArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*isImageExportJobArgs)(nil)).Elem()
}

type IsImageExportJobInput interface {
	pulumi.Input

	ToIsImageExportJobOutput() IsImageExportJobOutput
	ToIsImageExportJobOutputWithContext(ctx context.Context) IsImageExportJobOutput
}

func (*IsImageExportJob) ElementType() reflect.Type {
	return reflect.TypeOf((**IsImageExportJob)(nil)).Elem()
}

func (i *IsImageExportJob) ToIsImageExportJobOutput() IsImageExportJobOutput {
	return i.ToIsImageExportJobOutputWithContext(context.Background())
}

func (i *IsImageExportJob) ToIsImageExportJobOutputWithContext(ctx context.Context) IsImageExportJobOutput {
	return pulumi.ToOutputWithContext(ctx, i).(IsImageExportJobOutput)
}

type IsImageExportJobOutput struct{ *pulumi.OutputState }

func (IsImageExportJobOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**IsImageExportJob)(nil)).Elem()
}

func (o IsImageExportJobOutput) ToIsImageExportJobOutput() IsImageExportJobOutput {
	return o
}

func (o IsImageExportJobOutput) ToIsImageExportJobOutputWithContext(ctx context.Context) IsImageExportJobOutput {
	return o
}

// The date and time that the image export job was completed.If absent, the export job has not yet completed.
func (o IsImageExportJobOutput) CompletedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.CompletedAt }).(pulumi.StringOutput)
}

// The date and time that the image export job was created.
func (o IsImageExportJobOutput) CreatedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.CreatedAt }).(pulumi.StringOutput)
}

// A base64-encoded, encrypted representation of the key that was used to encrypt the data for the exported image. This key can be unwrapped with the image's `encryptionKey` root key using either Key Protect or Hyper Protect Crypto Service.If absent, the export job is for an unencrypted image.
func (o IsImageExportJobOutput) EncryptedDataKey() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.EncryptedDataKey }).(pulumi.StringOutput)
}

// The format to use for the exported image. If the image is encrypted, only `qcow2` is supported.
func (o IsImageExportJobOutput) Format() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringPtrOutput { return v.Format }).(pulumi.StringPtrOutput)
}

// The URL for this image export job.
func (o IsImageExportJobOutput) Href() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.Href }).(pulumi.StringOutput)
}

// The image identifier.
func (o IsImageExportJobOutput) Image() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.Image }).(pulumi.StringOutput)
}

// The unique identifier for this image export job.
func (o IsImageExportJobOutput) ImageExportJob() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.ImageExportJob }).(pulumi.StringOutput)
}

// The user-defined name for this image export job. Names must be unique within the image this export job resides in. If unspecified, the name will be a hyphenated list of randomly-selected words prefixed with the first 16 characters of the parent image name.The exported image object name in Cloud Object Storage (`storage_object.name` in the response) will be based on this name. The object name will be unique within the bucket.
func (o IsImageExportJobOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The type of resource referenced.
func (o IsImageExportJobOutput) ResourceType() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.ResourceType }).(pulumi.StringOutput)
}

// The date and time that the image export job started running.If absent, the export job has not yet started.
func (o IsImageExportJobOutput) StartedAt() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.StartedAt }).(pulumi.StringOutput)
}

// The status of this image export job:- `deleting`: Export job is being deleted- `failed`: Export job could not be completed successfully- `queued`: Export job is queued- `running`: Export job is in progress- `succeeded`: Export job was completed successfullyThe exported image object is automatically deleted for `failed` jobs.
func (o IsImageExportJobOutput) Status() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.Status }).(pulumi.StringOutput)
}

// The reasons for the current status (if any).The enumerated reason code values for this property will expand in the future. When processing this property, check for and log unknown values. Optionally halt processing and surface the error, or bypass the resource on which the unexpected reason code was encountered.
func (o IsImageExportJobOutput) StatusReasons() IsImageExportJobStatusReasonArrayOutput {
	return o.ApplyT(func(v *IsImageExportJob) IsImageExportJobStatusReasonArrayOutput { return v.StatusReasons }).(IsImageExportJobStatusReasonArrayOutput)
}

// The name of the Cloud Object Storage bucket to export the image to.
func (o IsImageExportJobOutput) StorageBucket() IsImageExportJobStorageBucketOutput {
	return o.ApplyT(func(v *IsImageExportJob) IsImageExportJobStorageBucketOutput { return v.StorageBucket }).(IsImageExportJobStorageBucketOutput)
}

// The Cloud Object Storage location of the exported image object. The object at this location may not exist until the job is started, and will be incomplete while the job is running.After the job completes, the exported image object is not managed by the IBM VPC service, and may be removed or replaced with a different object by any user or service with IAM authorization to the bucket.
func (o IsImageExportJobOutput) StorageHref() pulumi.StringOutput {
	return o.ApplyT(func(v *IsImageExportJob) pulumi.StringOutput { return v.StorageHref }).(pulumi.StringOutput)
}

// The Cloud Object Storage object for the exported image. This object may not exist untilthe job is started, and will not be complete until the job completes.
func (o IsImageExportJobOutput) StorageObjects() IsImageExportJobStorageObjectArrayOutput {
	return o.ApplyT(func(v *IsImageExportJob) IsImageExportJobStorageObjectArrayOutput { return v.StorageObjects }).(IsImageExportJobStorageObjectArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*IsImageExportJobInput)(nil)).Elem(), &IsImageExportJob{})
	pulumi.RegisterOutputType(IsImageExportJobOutput{})
}
