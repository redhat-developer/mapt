// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package ibmcloud

import (
	"context"
	"reflect"

	"errors"
	"github.com/mapt-oss/pulumi-ibmcloud/sdk/go/ibmcloud/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

type PiImage struct {
	pulumi.CustomResourceState

	// The CRN of this resource.
	Crn pulumi.StringOutput `pulumi:"crn"`
	// Image ID
	ImageId pulumi.StringOutput `pulumi:"imageId"`
	// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
	PiAffinityInstance pulumi.StringPtrOutput `pulumi:"piAffinityInstance"`
	// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
	PiAffinityPolicy pulumi.StringPtrOutput `pulumi:"piAffinityPolicy"`
	// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
	PiAffinityVolume pulumi.StringPtrOutput `pulumi:"piAffinityVolume"`
	// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
	PiAntiAffinityInstances pulumi.StringArrayOutput `pulumi:"piAntiAffinityInstances"`
	// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
	PiAntiAffinityVolumes pulumi.StringArrayOutput `pulumi:"piAntiAffinityVolumes"`
	// The GUID of the service instance associated with an account.
	PiCloudInstanceId pulumi.StringOutput `pulumi:"piCloudInstanceId"`
	// Cloud Object Storage access key; required for buckets with private access
	PiImageAccessKey pulumi.StringPtrOutput `pulumi:"piImageAccessKey"`
	// Indicates if the bucket has public or private access
	PiImageBucketAccess pulumi.StringPtrOutput `pulumi:"piImageBucketAccess"`
	// Cloud Object Storage image filename
	PiImageBucketFileName pulumi.StringPtrOutput `pulumi:"piImageBucketFileName"`
	// Cloud Object Storage bucket name; bucket-name[/optional/folder]
	PiImageBucketName pulumi.StringPtrOutput `pulumi:"piImageBucketName"`
	// Cloud Object Storage region
	PiImageBucketRegion pulumi.StringPtrOutput `pulumi:"piImageBucketRegion"`
	// Instance image id
	PiImageId            pulumi.StringPtrOutput               `pulumi:"piImageId"`
	PiImageImportDetails PiImagePiImageImportDetailsPtrOutput `pulumi:"piImageImportDetails"`
	// Image name
	PiImageName pulumi.StringOutput `pulumi:"piImageName"`
	// Cloud Object Storage secret key; required for buckets with private access
	PiImageSecretKey pulumi.StringPtrOutput `pulumi:"piImageSecretKey"`
	// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
	PiImageStoragePool pulumi.StringPtrOutput `pulumi:"piImageStoragePool"`
	// Type of storage; If not specified, default is tier3
	PiImageStorageType pulumi.StringPtrOutput `pulumi:"piImageStorageType"`
	// The user tags attached to this resource.
	PiUserTags pulumi.StringArrayOutput `pulumi:"piUserTags"`
}

// NewPiImage registers a new resource with the given unique name, arguments, and options.
func NewPiImage(ctx *pulumi.Context,
	name string, args *PiImageArgs, opts ...pulumi.ResourceOption) (*PiImage, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.PiCloudInstanceId == nil {
		return nil, errors.New("invalid value for required argument 'PiCloudInstanceId'")
	}
	if args.PiImageAccessKey != nil {
		args.PiImageAccessKey = pulumi.ToSecret(args.PiImageAccessKey).(pulumi.StringPtrInput)
	}
	if args.PiImageSecretKey != nil {
		args.PiImageSecretKey = pulumi.ToSecret(args.PiImageSecretKey).(pulumi.StringPtrInput)
	}
	secrets := pulumi.AdditionalSecretOutputs([]string{
		"piImageAccessKey",
		"piImageSecretKey",
	})
	opts = append(opts, secrets)
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource PiImage
	err := ctx.RegisterResource("ibmcloud:index/piImage:PiImage", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetPiImage gets an existing PiImage resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetPiImage(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PiImageState, opts ...pulumi.ResourceOption) (*PiImage, error) {
	var resource PiImage
	err := ctx.ReadResource("ibmcloud:index/piImage:PiImage", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering PiImage resources.
type piImageState struct {
	// The CRN of this resource.
	Crn *string `pulumi:"crn"`
	// Image ID
	ImageId *string `pulumi:"imageId"`
	// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
	PiAffinityInstance *string `pulumi:"piAffinityInstance"`
	// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
	PiAffinityPolicy *string `pulumi:"piAffinityPolicy"`
	// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
	PiAffinityVolume *string `pulumi:"piAffinityVolume"`
	// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
	PiAntiAffinityInstances []string `pulumi:"piAntiAffinityInstances"`
	// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
	PiAntiAffinityVolumes []string `pulumi:"piAntiAffinityVolumes"`
	// The GUID of the service instance associated with an account.
	PiCloudInstanceId *string `pulumi:"piCloudInstanceId"`
	// Cloud Object Storage access key; required for buckets with private access
	PiImageAccessKey *string `pulumi:"piImageAccessKey"`
	// Indicates if the bucket has public or private access
	PiImageBucketAccess *string `pulumi:"piImageBucketAccess"`
	// Cloud Object Storage image filename
	PiImageBucketFileName *string `pulumi:"piImageBucketFileName"`
	// Cloud Object Storage bucket name; bucket-name[/optional/folder]
	PiImageBucketName *string `pulumi:"piImageBucketName"`
	// Cloud Object Storage region
	PiImageBucketRegion *string `pulumi:"piImageBucketRegion"`
	// Instance image id
	PiImageId            *string                      `pulumi:"piImageId"`
	PiImageImportDetails *PiImagePiImageImportDetails `pulumi:"piImageImportDetails"`
	// Image name
	PiImageName *string `pulumi:"piImageName"`
	// Cloud Object Storage secret key; required for buckets with private access
	PiImageSecretKey *string `pulumi:"piImageSecretKey"`
	// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
	PiImageStoragePool *string `pulumi:"piImageStoragePool"`
	// Type of storage; If not specified, default is tier3
	PiImageStorageType *string `pulumi:"piImageStorageType"`
	// The user tags attached to this resource.
	PiUserTags []string `pulumi:"piUserTags"`
}

type PiImageState struct {
	// The CRN of this resource.
	Crn pulumi.StringPtrInput
	// Image ID
	ImageId pulumi.StringPtrInput
	// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
	PiAffinityInstance pulumi.StringPtrInput
	// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
	PiAffinityPolicy pulumi.StringPtrInput
	// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
	PiAffinityVolume pulumi.StringPtrInput
	// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
	PiAntiAffinityInstances pulumi.StringArrayInput
	// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
	PiAntiAffinityVolumes pulumi.StringArrayInput
	// The GUID of the service instance associated with an account.
	PiCloudInstanceId pulumi.StringPtrInput
	// Cloud Object Storage access key; required for buckets with private access
	PiImageAccessKey pulumi.StringPtrInput
	// Indicates if the bucket has public or private access
	PiImageBucketAccess pulumi.StringPtrInput
	// Cloud Object Storage image filename
	PiImageBucketFileName pulumi.StringPtrInput
	// Cloud Object Storage bucket name; bucket-name[/optional/folder]
	PiImageBucketName pulumi.StringPtrInput
	// Cloud Object Storage region
	PiImageBucketRegion pulumi.StringPtrInput
	// Instance image id
	PiImageId            pulumi.StringPtrInput
	PiImageImportDetails PiImagePiImageImportDetailsPtrInput
	// Image name
	PiImageName pulumi.StringPtrInput
	// Cloud Object Storage secret key; required for buckets with private access
	PiImageSecretKey pulumi.StringPtrInput
	// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
	PiImageStoragePool pulumi.StringPtrInput
	// Type of storage; If not specified, default is tier3
	PiImageStorageType pulumi.StringPtrInput
	// The user tags attached to this resource.
	PiUserTags pulumi.StringArrayInput
}

func (PiImageState) ElementType() reflect.Type {
	return reflect.TypeOf((*piImageState)(nil)).Elem()
}

type piImageArgs struct {
	// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
	PiAffinityInstance *string `pulumi:"piAffinityInstance"`
	// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
	PiAffinityPolicy *string `pulumi:"piAffinityPolicy"`
	// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
	PiAffinityVolume *string `pulumi:"piAffinityVolume"`
	// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
	PiAntiAffinityInstances []string `pulumi:"piAntiAffinityInstances"`
	// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
	PiAntiAffinityVolumes []string `pulumi:"piAntiAffinityVolumes"`
	// The GUID of the service instance associated with an account.
	PiCloudInstanceId string `pulumi:"piCloudInstanceId"`
	// Cloud Object Storage access key; required for buckets with private access
	PiImageAccessKey *string `pulumi:"piImageAccessKey"`
	// Indicates if the bucket has public or private access
	PiImageBucketAccess *string `pulumi:"piImageBucketAccess"`
	// Cloud Object Storage image filename
	PiImageBucketFileName *string `pulumi:"piImageBucketFileName"`
	// Cloud Object Storage bucket name; bucket-name[/optional/folder]
	PiImageBucketName *string `pulumi:"piImageBucketName"`
	// Cloud Object Storage region
	PiImageBucketRegion *string `pulumi:"piImageBucketRegion"`
	// Instance image id
	PiImageId            *string                      `pulumi:"piImageId"`
	PiImageImportDetails *PiImagePiImageImportDetails `pulumi:"piImageImportDetails"`
	// Image name
	PiImageName *string `pulumi:"piImageName"`
	// Cloud Object Storage secret key; required for buckets with private access
	PiImageSecretKey *string `pulumi:"piImageSecretKey"`
	// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
	PiImageStoragePool *string `pulumi:"piImageStoragePool"`
	// Type of storage; If not specified, default is tier3
	PiImageStorageType *string `pulumi:"piImageStorageType"`
	// The user tags attached to this resource.
	PiUserTags []string `pulumi:"piUserTags"`
}

// The set of arguments for constructing a PiImage resource.
type PiImageArgs struct {
	// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
	PiAffinityInstance pulumi.StringPtrInput
	// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
	PiAffinityPolicy pulumi.StringPtrInput
	// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
	PiAffinityVolume pulumi.StringPtrInput
	// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
	PiAntiAffinityInstances pulumi.StringArrayInput
	// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
	PiAntiAffinityVolumes pulumi.StringArrayInput
	// The GUID of the service instance associated with an account.
	PiCloudInstanceId pulumi.StringInput
	// Cloud Object Storage access key; required for buckets with private access
	PiImageAccessKey pulumi.StringPtrInput
	// Indicates if the bucket has public or private access
	PiImageBucketAccess pulumi.StringPtrInput
	// Cloud Object Storage image filename
	PiImageBucketFileName pulumi.StringPtrInput
	// Cloud Object Storage bucket name; bucket-name[/optional/folder]
	PiImageBucketName pulumi.StringPtrInput
	// Cloud Object Storage region
	PiImageBucketRegion pulumi.StringPtrInput
	// Instance image id
	PiImageId            pulumi.StringPtrInput
	PiImageImportDetails PiImagePiImageImportDetailsPtrInput
	// Image name
	PiImageName pulumi.StringPtrInput
	// Cloud Object Storage secret key; required for buckets with private access
	PiImageSecretKey pulumi.StringPtrInput
	// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
	PiImageStoragePool pulumi.StringPtrInput
	// Type of storage; If not specified, default is tier3
	PiImageStorageType pulumi.StringPtrInput
	// The user tags attached to this resource.
	PiUserTags pulumi.StringArrayInput
}

func (PiImageArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*piImageArgs)(nil)).Elem()
}

type PiImageInput interface {
	pulumi.Input

	ToPiImageOutput() PiImageOutput
	ToPiImageOutputWithContext(ctx context.Context) PiImageOutput
}

func (*PiImage) ElementType() reflect.Type {
	return reflect.TypeOf((**PiImage)(nil)).Elem()
}

func (i *PiImage) ToPiImageOutput() PiImageOutput {
	return i.ToPiImageOutputWithContext(context.Background())
}

func (i *PiImage) ToPiImageOutputWithContext(ctx context.Context) PiImageOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PiImageOutput)
}

type PiImageOutput struct{ *pulumi.OutputState }

func (PiImageOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**PiImage)(nil)).Elem()
}

func (o PiImageOutput) ToPiImageOutput() PiImageOutput {
	return o
}

func (o PiImageOutput) ToPiImageOutputWithContext(ctx context.Context) PiImageOutput {
	return o
}

// The CRN of this resource.
func (o PiImageOutput) Crn() pulumi.StringOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringOutput { return v.Crn }).(pulumi.StringOutput)
}

// Image ID
func (o PiImageOutput) ImageId() pulumi.StringOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringOutput { return v.ImageId }).(pulumi.StringOutput)
}

// PVM Instance (ID or Name) to base storage affinity policy against; required if requesting storage affinity and piAffinityVolume is not provided
func (o PiImageOutput) PiAffinityInstance() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiAffinityInstance }).(pulumi.StringPtrOutput)
}

// Affinity policy for image; ignored if piImageStoragePool provided; for policy affinity requires one of piAffinityInstance or piAffinityVolume to be specified; for policy anti-affinity requires one of piAntiAffinityInstances or piAntiAffinityVolumes to be specified
func (o PiImageOutput) PiAffinityPolicy() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiAffinityPolicy }).(pulumi.StringPtrOutput)
}

// Volume (ID or Name) to base storage affinity policy against; required if requesting affinity and piAffinityInstance is not provided
func (o PiImageOutput) PiAffinityVolume() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiAffinityVolume }).(pulumi.StringPtrOutput)
}

// List of pvmInstances to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityVolumes is not provided
func (o PiImageOutput) PiAntiAffinityInstances() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringArrayOutput { return v.PiAntiAffinityInstances }).(pulumi.StringArrayOutput)
}

// List of volumes to base storage anti-affinity policy against; required if requesting anti-affinity and piAntiAffinityInstances is not provided
func (o PiImageOutput) PiAntiAffinityVolumes() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringArrayOutput { return v.PiAntiAffinityVolumes }).(pulumi.StringArrayOutput)
}

// The GUID of the service instance associated with an account.
func (o PiImageOutput) PiCloudInstanceId() pulumi.StringOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringOutput { return v.PiCloudInstanceId }).(pulumi.StringOutput)
}

// Cloud Object Storage access key; required for buckets with private access
func (o PiImageOutput) PiImageAccessKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageAccessKey }).(pulumi.StringPtrOutput)
}

// Indicates if the bucket has public or private access
func (o PiImageOutput) PiImageBucketAccess() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageBucketAccess }).(pulumi.StringPtrOutput)
}

// Cloud Object Storage image filename
func (o PiImageOutput) PiImageBucketFileName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageBucketFileName }).(pulumi.StringPtrOutput)
}

// Cloud Object Storage bucket name; bucket-name[/optional/folder]
func (o PiImageOutput) PiImageBucketName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageBucketName }).(pulumi.StringPtrOutput)
}

// Cloud Object Storage region
func (o PiImageOutput) PiImageBucketRegion() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageBucketRegion }).(pulumi.StringPtrOutput)
}

// Instance image id
func (o PiImageOutput) PiImageId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageId }).(pulumi.StringPtrOutput)
}

func (o PiImageOutput) PiImageImportDetails() PiImagePiImageImportDetailsPtrOutput {
	return o.ApplyT(func(v *PiImage) PiImagePiImageImportDetailsPtrOutput { return v.PiImageImportDetails }).(PiImagePiImageImportDetailsPtrOutput)
}

// Image name
func (o PiImageOutput) PiImageName() pulumi.StringOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringOutput { return v.PiImageName }).(pulumi.StringOutput)
}

// Cloud Object Storage secret key; required for buckets with private access
func (o PiImageOutput) PiImageSecretKey() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageSecretKey }).(pulumi.StringPtrOutput)
}

// Storage pool where the image will be loaded, if provided then piAffinityPolicy will be ignored
func (o PiImageOutput) PiImageStoragePool() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageStoragePool }).(pulumi.StringPtrOutput)
}

// Type of storage; If not specified, default is tier3
func (o PiImageOutput) PiImageStorageType() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringPtrOutput { return v.PiImageStorageType }).(pulumi.StringPtrOutput)
}

// The user tags attached to this resource.
func (o PiImageOutput) PiUserTags() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *PiImage) pulumi.StringArrayOutput { return v.PiUserTags }).(pulumi.StringArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*PiImageInput)(nil)).Elem(), &PiImage{})
	pulumi.RegisterOutputType(PiImageOutput{})
}
